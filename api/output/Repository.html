<div class="body-wrap" xmlns:ext="http://www.extjs.com"><div class="top-tools"><a class="inner-link" href="#Repository-props"><img src="resources/images/default/s.gif" class="item-icon icon-prop">Properties</a>&#13;<a class="inner-link" href="#Repository-methods"><img src="resources/images/default/s.gif" class="item-icon icon-method">Methods</a>&#13;<a class="inner-link" href="#Repository-events"><img src="resources/images/default/s.gif" class="item-icon icon-event">Events</a>&#13;<a class="bookmark" href="../docs/?class=Repository"><img src="resources/images/default/s.gif" class="item-icon icon-fav">Direct Link</a>&#13;</div><h1>Class <a href="source/repository.html#cls-Repository">Repository</a></h1><table cellspacing="0"><tr><td class="label">Package:</td><td class="hd-info">GENTICS.Aloha.Repository</td></tr><tr><td class="label">Defined In:</td><td class="hd-info"><a href="source/repository.html#cls-Repository">repository.js</a></td></tr><tr><td class="label">Class:</td><td class="hd-info"><a href="source/repository.html#cls-Repository">Repository</a></td></tr><tr><td class="label">Extends:</td><td class="hd-info">Object</td></tr></table><div class="description"></div><div class="hr"></div><a id="Repository-props"></a><h2>Public Properties</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Property</th><th class="msource-header">Defined By</th></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-repositoryId"></a><b><a href="source/repository.html#prop-Repository-repositoryId">repositoryId</a></b> : Object<div class="mdesc">is the unique Id for this Repository instance</div></td><td class="msource">Repository</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-repositoryName"></a><b><a href="source/repository.html#prop-Repository-repositoryName">repositoryName</a></b> : Object<div class="mdesc">is the name for this Repository instance</div></td><td class="msource">Repository</td></tr><tr class="property-row  "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-settings"></a><b><a href="source/repository.html#prop-Repository-settings">settings</a></b> : Object<div class="mdesc">{Object} the repository's settings stored in an object</div></td><td class="msource">Repository</td></tr></tbody></table><a id="Repository-methods"></a><h2>Public Methods</h2><table cellspacing="0" class="member-table"><tbody><tr><th colspan="2" class="sig-header">Method</th><th class="msource-header">Defined By</th></tr><tr class="method-row expandable"><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-Repository"></a><b><a href="source/repository.html#cls-Repository">Repository</a></b>(&nbsp;<code>String&nbsp;repositoryId</code>,&nbsp;<span title="Optional" class="optional">[<code>String&nbsp;repositoryName</code>]</span>&nbsp;)
    <div class="mdesc"><div class="short"></div><div class="long"><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>repositoryId</code> : String<div class="sub-desc">unique repository identifier</div></li><li><code>repositoryName</code> : String<div class="sub-desc">(optional) is the displyed name for this Repository instance</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Repository</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-getChildren"></a><b><a href="source/repository.html#method-Repository-getChildren">getChildren</a></b>(&nbsp;<code>object&nbsp;params</code>,&nbsp;<code>function&nbsp;callback</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">Returns all children of a given motherId.</div><div class="long">Returns all children of a given motherId.<div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>params</code> : object<div class="sub-desc">object with properties
<div class="mdetail-params"><ul>
<li><code>objectTypeFilter</code> : array  (optional) <div class="sub-desc">Object types that will be returned.</div></li>
<li><code>filter</code> : array  (optional) <div class="sub-desc">Attributes that will be returned.</div></li>
<li><code>inFolderId</code> : boolean  (optional) <div class="sub-desc">This indicates whether or not a candidate object is a child-object of the folder object identified by the given inFolderId (objectId).</div></li>
<li><code>orderBy</code> : array  (optional) <div class="sub-desc">ex. [{lastModificationDate:’DESC’, name:’ASC’}]</div></li>
<li><code>maxItems</code> : Integer  (optional) <div class="sub-desc">number items to return as result</div></li>
<li><code>skipCount</code> : Integer  (optional) <div class="sub-desc">This is tricky in a merged multi repository scenario</div></li>
<li><code>renditionFilter</code> : array  (optional) <div class="sub-desc">Instead of termlist an array of kind or mimetype is expected. If null or array.length == 0 all renditions are returned. See http://docs.oasis-open.org/cmis/CMIS/v1.0/cd04/cmis-spec-v1.0.html#_Ref237323310 for renditionFilter</div></li>
</ul></div></div></li><li><code>callback</code> : function<div class="sub-desc">this method must be called with all result items</div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Repository</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-makeClean"></a><b><a href="source/repository.html#method-Repository-makeClean">makeClean</a></b>(&nbsp;<code>jQuery&nbsp;obj</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">Make the given jQuery object (representing an object marked as object of this type)
clean. All attributes needed for ...</div><div class="long">Make the given jQuery object (representing an object marked as object of this type)
clean. All attributes needed for handling should be removed. 
<pre><code>GENTICS.Aloha.Repositories.myRepository.makeClean = <b>function</b> (obj) {
	obj.removeAttr(<em>'data-myRepository-name'</em>);
};</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>obj</code> : jQuery<div class="sub-desc">jQuery object to make clean</div></li></ul><strong>Returns:</strong><ul><li><code>void</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Repository</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-markObject"></a><b><a href="source/repository.html#method-Repository-markObject">markObject</a></b>(&nbsp;<code>obj&nbsp;jQuery</code>,&nbsp;<code>repositoryItem&nbsp;The</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">This method will be called when a user chooses an item from a repository and wants 
to insert this item in his conten...</div><div class="long">This method will be called when a user chooses an item from a repository and wants 
to insert this item in his content.
Mark or modify an object as needed by that repository for handling, processing or identification.
Objects can be any DOM object as A, SPAN, ABBR, etc. or
special objects such as GENTICS_aloha_block elements.
(see http://dev.w3.org/html5/spec/elements.html#embedding-custom-non-visible-data)
<pre><code>GENTICS.Aloha.Repositories.myRepository.markObject = <b>function</b> (obj, resourceItem) {
	obj.attr(<em>'data-myRepository-name'</em>).text(resourceItem.name);
};</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>jQuery</code> : obj<div class="sub-desc">target object to which the repositoryItem will be applied</div></li><li><code>The</code> : repositoryItem<div class="sub-desc">selected item. A class constructed from Document or Folder.</div></li></ul><strong>Returns:</strong><ul><li><code>void</code><div class="sub-desc"></div></li></ul></div></div></div></td><td class="msource">Repository</td></tr><tr class="method-row expandable "><td class="micon"><a href="#expand" class="exi">&nbsp;</a></td><td class="sig"><a id="Repository-query"></a><b><a href="source/repository.html#method-Repository-query">query</a></b>(&nbsp;<code>object&nbsp;params</code>,&nbsp;<code>function&nbsp;callback</code>&nbsp;)
    :
                                        void<div class="mdesc"><div class="short">Searches a repository for object items matching queryString if none found returns null.
The returned object items mus...</div><div class="long">Searches a repository for object items matching queryString if none found returns null.
The returned object items must be an array of Aloha.Repository.Object
<pre><code><i>// simple delicious implementation</i>
GENTICS.Aloha.Repositories.myRepository.query = <b>function</b> (params, callback) {
	
	<i>// make local <b>var</b> of this to use <b>in</b> ajax <b>function</b></i>
	<b>var</b> that = this;
	
	<i>// handle each word as tag</i>
	<b>var</b> tags = p.queryString.split(<em>' '</em>);
	
	<i>// <b>if</b> we have a query and no tag matching <b>return</b> </i>
	<b>if</b> ( p.queryString && tags.length == 0 ) {
		callback.call( that, []);
		<b>return</b>;
	}
	
	<i>// no handling of objectTypeFilter, filter, inFolderId, etc...</i>
	<i>// <b>in</b> real implementation you should handle all parameters</i>
	
	jQuery.ajax({ type: <em>"GET"</em>,
		dataType: <em>"jsonp"</em>,
		url: <em>'http:<i>//feeds.delicious.com/v2/json/'</em> + tags.join(<em>'+'</em>),</i>
		success: <b>function</b>(data) {
			<b>var</b> items = [];
			<i>// convert data to Aloha objects</i>
			<b>for</b> (<b>var</b> i = 0; i < data.length; i++) {
				<b>if</b> (<b>typeof</b> data[i] != <em>'<b>function</b>'</em> ) {
					items.push(<b>new</b> GENTICS.Aloha.Repository.Document ({
						id: data[i].u,
						name: data[i].d,
						repositoryId: that.repositoryId,
						type: <em>'website'</em>, 
						url: data[i].u
					}));
				}
		    }
			callback.call( that, items);
		}
	});
};</code></pre><div class="mdetail-params"><strong>Parameters:</strong><ul><li><code>params</code> : object<div class="sub-desc">object with properties
<div class="mdetail-params"><ul>
<li><code>queryString</code> :  String <div class="sub-desc">The query string for full text search</div></li>
<li><code>objectTypeFilter</code> : array  (optional) <div class="sub-desc">Object types that will be returned.</div></li>
<li><code>filter</code> : array (optional) <div class="sub-desc">Attributes that will be returned.</div></li>
<li><code>inFolderId</code> : boolean  (optional) <div class="sub-desc">This is indicates whether or not a candidate object is a child-object of the folder object identified by the given inFolderId (objectId).</div></li>
<li><code>inTreeId</code> : boolean  (optional) <div class="sub-desc">This indicates whether or not a candidate object is a descendant-object of the folder object identified by the given inTreeId (objectId).</div></li>
<li><code>orderBy</code> : array  (optional) <div class="sub-desc">ex. [{lastModificationDate:’DESC’, name:’ASC’}]</div></li>
<li><code>maxItems</code> : Integer  (optional) <div class="sub-desc">number items to return as result</div></li>
<li><code>skipCount</code> : Integer  (optional) <div class="sub-desc">This is tricky in a merged multi repository scenario</div></li>
<li><code>renditionFilter</code> : array  (optional) <div class="sub-desc">Instead of termlist an array of kind or mimetype is expected. If null or array.length == 0 all renditions are returned. See http://docs.oasis-open.org/cmis/CMIS/v1.0/cd04/cmis-spec-v1.0.html#_Ref237323310 for renditionFilter</div></li>
</ul></div></div></li><li><code>callback</code> : function<div class="sub-desc">this method must be called with all result items</div></li></div></li></ul><strong>Returns:</strong><ul><li>void</li></ul></div></div></div></td><td class="msource">Repository</td></tr></tbody></table><a id="Repository-events"></a><h2>Public Events</h2><div class="no-members">This class has no public events.</div></div>